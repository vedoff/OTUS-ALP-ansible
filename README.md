# ansible
Изучение технологии ansible на примере развертывания nginx

## Задание
Подготовить стенд на Vagrant как минимум с одним сервером. На этом сервере используя Ansible необходимо развернуть nginx со следующими условиями:

   - необходимо использовать модуль yum/apt;
   - конфигурационные файлы должны быть взяты из шаблона jinja2 с перемененными;
   - после установки nginx должен быть в режиме enabled в systemd;
   - должен быть использован notify для старта nginx после установки;
   - сайт должен слушать на нестандартном порту - 8080, для этого использовать переменные в Ansible.
   
   ## Как это работает
   - Стенд развернет две Linux системы Centos и Debian.
   - Установит на них nginx, в зависимости от системы будут применены соответствующие параметры установки.
   - При установке используются роли и шаблоны J2.
   - При конфигурировании nginx используется шаблон. Сайт по умолчанию поднимается на пору 8080
   - Добавлен виртуальный домен и шаблон сайта в соответствуюшую папку. Виртуальный домен отвечает на порту 8088.
   - Все перменные добавлены в default/main.yml
   - Используется переопределение переменной для порта сайта виртуального домена в vars/main.yml
   - Добавлены мета данные
   
   ### Запуск стенда
   
   vagrant up && ansible-playbook play.yaml
   
   ### Проверка
   vagrant ssh server-01-centos \
   vagrant ssh server-02-debian
   - Проверка портов \
   sudo ss -tunlp
   - Проверка доступа сайта \
   http://192.168.56.211:8088 \
   http://192.168.56.214:8088
